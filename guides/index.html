<!doctype html>
<html lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8">
    <title>Guides</title>
    <link rel="stylesheet" href="/leader/main.css">
  </head>
  <body>
    <nav class="navigation">
      <div class="navigation__logo">
        <a href="/leader/"><img width="64" height="64" src="/leader/images/logo.png"></a>
      </div>
      <ul class="navigation__entries">
        <li class="navigation__entry"><a href="/leader/guides/">Guides</a></li>
      </ul>
    </nav>
    <main class="main">
      


<h1 id="guides">Guides</h1>

<p>This pages shows various ways of configuring <code>leader</code> to work with common tools.</p>

  <p>Available guides:</p>
  <ul>
    
      <li><a href="#git">Git</a></li>
    
      <li><a href="#fzf">Interactive selections with fzf</a></li>
    
      <li><a href="#filesystem">Jumping around in the filesystem</a></li>
    
      <li><a href="#rails">Ruby on Rails</a></li>
    
  </ul>
  
     
       <article id="git" class="guide">
         

<h1 id="integrating-git">Integrating Git</h1>

<p>Using <code>git</code> from the command line can be quite tedious, especially when frequently having to run the same commands.
Users of <code>emacs</code> often use <a href="https://magit.vc/">magit</a> and the setup presented here can best be thought of as an approximation of magit&rsquo;s functionality outside of <code>emacs</code>.</p>

<h2 id="configuration">Configuration</h2>

<p>Add the following to your <code>~/.leaderrc</code>:</p>

<pre><code class="language-json">{
  &quot;keys&quot;: {
    &quot;g&quot;: {
      &quot;name&quot;: &quot;git&quot;,
      &quot;loopingKeys&quot;: [&quot;s&quot;],
      &quot;keys&quot;: {
        &quot;p&quot;: &quot;git pull&quot;,
        &quot;P&quot;: &quot;git push&quot;,
        &quot;c&quot;: &quot;git commit -m&quot;,
        &quot;s&quot;: &quot;git status&quot;,
        &quot;a&quot;: &quot;git add -p .&quot;,
        &quot;f&quot;: &quot;git fetch&quot;,
        &quot;b&quot;: &quot;git select-branch&quot;,
        &quot;B&quot;: &quot;read -e -p 'Create branch: '; git checkout -b \&quot;$REPLY\&quot;&quot;,
        &quot;g&quot;: &quot;read -e -p 'Pattern: '; git grep \&quot;$REPLY\&quot;&quot;,
        &quot;z&quot;: {
          &quot;name&quot;: &quot;stash&quot;,
          &quot;keys&quot;: {
            &quot;z&quot;: &quot;git stash save&quot;,
            &quot;p&quot;: &quot;git stash pop&quot;
          }
        }
      }
    }
  }
}
</code></pre>

<p>Most of the bindings should be obvious.
A few bindings might need some explaining words:</p>

<ul>
<li><kbd>g</kbd><kbd>B</kbd> prompts for a branch name and then creates a branch with the provided name</li>
<li><kbd>g</kbd><kbd>g</kbd> prompts for a pattern and then searches the repository using <code>git grep</code></li>
<li><kbd>g</kbd><kbd>s</kbd> runs <code>git status</code>.  Since <kbd>s</kbd> is listed under <code>loopingKeys</code>, you can press <kbd>s</kbd> repeatedly to update the status, without leaving the current menu.</li>
</ul>

       </article>
     
       <article id="fzf" class="guide">
         

<h1 id="interactive-selections-with-fzf">Interactive selections with fzf</h1>

<p>Sometimes commands that you bind to keys with leader need some extra information,
for example which git branch to check out or which manual page to open.</p>

<p>Most of the times that extra bit of information comes from a set of existing items:
the list of branches in your git repository or the list of manual pages installed on your system.</p>

<p><a href="https://github.com/junegunn/fzf">fzf</a> is a command line utility for presenting interactive selections in the terminal.
This guide examines a few possibilities of using <code>fzf</code> together with <code>leader</code>.</p>

<p><strong>Prerequisites</strong>:</p>

<ul>
<li>have <code>fzf</code> installed</li>
<li>have a directory on your <code>PATH</code> in which you can place scripts</li>
</ul>

<h2 id="changing-git-branches">Changing git branches</h2>

<p>Place the following script as <code>git-select-branch</code> in a directory on your <code>PATH</code>:</p>

<pre><code>#!/bin/bash

BRANCH_NAME=$(git branch --all --list --format='%(refname:lstrip=2)' | fzf --height=10)
git checkout &quot;$BRANCH_NAME&quot;
</code></pre>

<p>Then add the following binding to your <code>~/.leaderrc</code>, whereever you already have bindings for <code>git</code>:</p>

<pre><code>    &quot;b&quot;: &quot;git select-branch&quot;
</code></pre>

<p>The end result:</p>

<p><a href="https://asciinema.org/a/O0NB8Qle6YkPuIHTGJBYDOr0x"><img src="https://asciinema.org/a/O0NB8Qle6YkPuIHTGJBYDOr0x.png" alt="asciicast" /></a></p>

<h2 id="quickly-opening-man-pages">Quickly opening man pages</h2>

<p>Place the following script as <code>select-man-page</code> in a directory on your <code>PATH</code>.  The scripts uses the output of <code>apropos(1)</code> to show a summary of manual pages installed on your system
and then presents you with a selection of all those man pages.</p>

<pre><code>#!/bin/bash
apropos . |
fzf --height=10 |
tr -d '()' |
awk '{print $2 &quot; &quot; $1}' |
xargs man
</code></pre>

<p>Then add the following binding to your <code>~/.leaderrc</code>:</p>

<pre><code>  &quot;m&quot;: &quot;select-man-page&quot;
</code></pre>

<p>The end result:</p>

<p><a href="https://asciinema.org/a/lcIaOUnazTMc0egXiFq6CESHD"><img src="https://asciinema.org/a/lcIaOUnazTMc0egXiFq6CESHD.png" alt="asciicast" /></a></p>

       </article>
     
       <article id="filesystem" class="guide">
         

<h1 id="jumping-around-in-the-filesystem">Jumping around in the filesystem</h1>

<p>Since commands issued through <code>leader</code> are evaluated in the context of the current shell, <code>leader</code> can be used to change the shell&rsquo;s current working directory and other shell-local settings (such as key bindings).</p>

<p>This can be used for quickly accessing common directories and navigating through the filesystem with single key presses.</p>

<p>Here is an example configuration showing some of the possibilities:</p>

<pre><code>{
  &quot;keys&quot;: {
    &quot;j&quot;: {
      &quot;name&quot;: &quot;jump&quot;,
      &quot;loopingKeys&quot;: [&quot;j&quot;, &quot;k&quot;],
      &quot;keys&quot;: {
        &quot;k&quot;: &quot;pushd .. &amp;&amp; pwd&quot;,
        &quot;j&quot;: &quot;popd &amp;&amp; pwd&quot;,
        &quot;\\&quot;: &quot;cd $GOPATH/src/github.com/dhamidi/leader&quot;
      }
    }
  }
}
</code></pre>

<p>The example above includes a shortcut to jump into the <code>leader</code>&rsquo;s repository on disk to make changes there, since it&rsquo;s a often used directory.
The keys <kbd>k</kbd> and <kbd>j</kbd> are used to navigate up and down through the directory hierarchy.
Since both of these keys are listed as looping keys, they can be pressed repeatedly to quickly navigate through the filesystem.</p>

<p>This could be further extend with a helper script that lists the alphabetically next/previous directory in the current directory, which would allow for &ldquo;lateral&rdquo; movement between the children of the current directory and could be bound to <kbd>h</kbd> and <kbd>l</kbd>.</p>

       </article>
     
       <article id="rails" class="guide">
         

<h1 id="ruby-on-rails">Ruby on Rails</h1>

<p>When developing with Ruby on Rails there are many common commands that are invoked frequently.
<code>leader</code> can remove a lot of friction from the development process by providing quick access to many of these commands.</p>

<h2 id="configuration">Configuration</h2>

<p>Add the following to your <code>~/.leaderrc</code>:</p>

<pre><code class="language-json">{
  &quot;keys&quot;: {
    &quot;r&quot;: {
      &quot;name&quot;: &quot;ruby&quot;,
      &quot;keys&quot;: {
        &quot;d&quot;: {
          &quot;name&quot;: &quot;database&quot;,
          &quot;keys&quot;: {
            &quot;m&quot;: &quot;bundle rake db:migrate&quot;,
            &quot;r&quot;: &quot;bundle rake db:reset&quot;
          }
        },
        &quot;s&quot;: &quot;bin/rails server&quot;,
        &quot;c&quot;: &quot;bin/rails console&quot;,
        &quot;t&quot;: &quot;bundle exec rake test&quot;
      }
    }
  }
}
</code></pre>

<p>Don&rsquo;t forget that you can add project local bindings for project-specific rake tasks by placing an additional <code>.leaderrc</code> in your project&rsquo;s root directory.</p>

       </article>
     
  

    </main>
  </body>
</html>
